FROM fedora:30

# Install generic development dependencies
RUN true \
        && dnf update -y --refresh \
        && dnf install -y dnf-plugins-core gcc make rpm-build ccache gdb git \
                          nmap screen tmux vim-enhanced man vim-jedi \
        && true

RUN true \
        && cd /root \
        && git clone https://github.com/cipherboy/dotfiles \
        && cd /root/dotfiles \
        && ./install.sh bash vimrc git \
        && ./agents/vim.sh \
        && sed '/gpgsign/d' ~/.gitconfig -i \
        && sed '/commit/d' ~/.gitconfig -i \
        && touch /root/.no_powerline \
        && true

CMD true \
        && bash -i \
        && true
